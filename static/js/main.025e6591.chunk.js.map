{"version":3,"sources":["components/SearchBar/SearchBar.jsx","components/services/apiService.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/PicturesErrorView/PicturesErrorView.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/PicturesInfo/PicturesInfo.jsx","App.js","index.js"],"names":["SearchBar","state","input","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","API","fetchPictures","query","page","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","src","alt","createPortal","ImageGalleryItem","showModal","toggleModal","largePicture","onClick","ImageGallery","pictures","map","picture","index","webformatURL","tags","largeImageURL","PicturesErrorView","message","role","App","color","height","width","timeout","Button","scroll","setTimeout","PicturesInfo","status","onLoadMore","console","log","prevState","prevProps","prevRequest","picturesName","nextRequest","PrevPage","NextPage","apiService","newPictures","total","hits","catch","handleSubmitForm","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.025e6591.chunk.js","sourcesContent":["import './SearchBarStyles.css'\r\nimport { Component } from \"react\";\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    input: '',\r\n  };\r\n  static propTypes = {\r\n  onSubmit: PropTypes.func.isRequired\r\n}\r\n  handleNameChange = event => {\r\n    this.setState({ input: event.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.input.trim() === '') {\r\n      toast.error('Write your request,please')\r\n      return\r\n    }\r\n    this.props.onSubmit(this.state.input)\r\n    this.setState({input:''})\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.input}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\n","function fetchPictures(query, page) {\r\n  const BASE_URL = \"https://pixabay.com/api/\";\r\n  const API_KEY = \"19104689-9de2c32d2867cfd700a7c6eaf\";\r\n  return fetch(\r\n    `${BASE_URL}?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(\"Something is wrong, please try again\"));\r\n  });\r\n}\r\n\r\nconst API = {\r\n  fetchPictures,\r\n};\r\n\r\nexport default API;","import './ModalStyles.css';\r\nimport React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }      \r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }  \r\n   };\r\n\r\n  render() {\r\n    const { src, alt } = this.props\r\n    \r\n    return createPortal(\r\n      <div className=\"Overlay\">\r\n        <div className=\"Modal\">\r\n          <img src= {src} alt= {alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React,{ Component } from 'react';\r\nimport Modal from '../Modal/Modal'\r\nimport './ImageGalleryItemStyles.css'\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };  \r\n  \r\n    \r\n  render() {\r\n    const { src, alt, largePicture } = this.props\r\n    const { showModal } = this.state\r\n\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          onClick={this.toggleModal}\r\n          src={src}\r\n          alt={alt}\r\n          className=\"ImageGalleryItemImage\"\r\n        />\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal} src={largePicture} alt={alt} />\r\n        )}\r\n      </li>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n","import './ImageGallery.css'\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\r\n\r\nexport default function ImageGallery({ pictures }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {pictures.map((picture, index) => (\r\n        <ImageGalleryItem      \r\n          src={picture.webformatURL}\r\n          alt={picture.tags}\r\n          largePicture = {picture.largeImageURL}\r\n          key={index}\r\n        />\r\n        \r\n      ) )             \r\n    }\r\n</ul>)\r\n}\r\n","\r\nexport default function PicturesErrorView({ message }) {\r\n  return (\r\n    <div role=\"alert\">      \r\n      <p>{message}</p>\r\n    </div>\r\n  );\r\n}","import  { Component } from 'react';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\n\r\nexport default class App extends Component {  \r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Circles\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} \r\n      />\r\n    );\r\n  }\r\n}","import { Component } from 'react';\r\nimport './ButtonStyles.css'\r\n\r\nexport default class Button extends Component {\r\n\r\n  scroll = () =>\r\n    this.props.onClick();\r\n  \r\n  setTimeout = (() => {\r\n  window.scrollTo({\r\n  top: document.documentElement.scrollHeight,\r\n  behavior: 'smooth',\r\n});  \r\n  }, 500)\r\n  \r\n  render() {\r\n   return (\r\n    <button onClick = {this.scroll} type = \"button\" className = \"Button\" >Load more</button>\r\n  )\r\n}\r\n \r\n  \r\n\r\n\r\n}\r\n\r\n","import { Component } from 'react';\r\nimport apiService from '../services/apiService';\r\nimport ImageGallery from '../ImageGallery/'\r\nimport PicturesErrorView from '../PicturesErrorView/PicturesErrorView'\r\nimport Loader from '../Loader/Loader'\r\nimport Button from '../Button/Button'\r\n\r\n\r\nexport default class PicturesInfo extends Component {\r\n    state = {\r\n        pictures: [],\r\n        page: 1,\r\n        error: null,\r\n        status: 'idle',\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const prevRequest = prevProps.picturesName;\r\n        const nextRequest = this.props.picturesName;\r\n        const PrevPage = prevState.page;\r\n        const NextPage = this.state.page;\r\n        console.log(NextPage)\r\n\r\n        if (PrevPage !== NextPage) {\r\n            this.setState({page:1})\r\n        }\r\n\r\n        if (prevRequest !== nextRequest || PrevPage !== NextPage ) {\r\n            this.setState({ status: 'pending' })\r\n            apiService\r\n                .fetchPictures(nextRequest)\r\n                .then(newPictures => {\r\n                    if (newPictures.total !== 0) {\r\n                        this.setState(prevState => ({\r\n                            pictures: [...prevState.pictures, ...newPictures.hits],\r\n                            status: 'resolved'\r\n                        })) \r\n                        return \r\n                    }\r\n                    return Promise.reject(new Error('Invalid request'));\r\n                } \r\n                // this.setState({ pictures: [...pictures.hits], status: 'resolved' })\r\n                )\r\n                .catch(error => this.setState({ error, status: 'rejected' }))\r\n        }\r\n    }\r\n    onLoadMore = () => {\r\n         console.log('Click onLoadMore')\r\n        this.setState(prevState => ({\r\n            page: prevState.page + 1,\r\n           \r\n    }));\r\n   }\r\n    \r\n    render() {\r\n        const { pictures, error, status,page } = this.state\r\n        \r\n        if (status === 'idle') {\r\n            return <div>Введите свой запрос</div>\r\n        }\r\n        if (status === 'pending') {\r\n            return <Loader />\r\n        }\r\n        if (status === 'rejected') {\r\n            return <PicturesErrorView message={error.message} />\r\n        }\r\n        if (status === 'resolved') {\r\n            return (\r\n               <>\r\n            <ImageGallery pictures={pictures} />\r\n                <Button onClick = {this.onLoadMore} page = {page} />\r\n                </> \r\n            )\r\n            \r\n\r\n        }\r\n    }\r\n}\r\n\r\n    \r\n   ","import React, { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './App.css';\r\nimport SearchBar from './components/SearchBar/SearchBar';\r\nimport PicturesInfo from './components/PicturesInfo/PicturesInfo';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    picturesName: '',\r\n  };\r\n\r\n  handleSubmitForm = picturesName => {\r\n    this.setState({ picturesName });\r\n    console.log('request handleSubmitForm ');\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <SearchBar onSubmit={this.handleSubmitForm} />\r\n        <PicturesInfo picturesName={this.state.picturesName} />\r\n        <ToastContainer autoClose={2000} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}